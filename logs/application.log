2025-01-19 16:51:28 - Starting MediaStreamingApplication using Java 21.0.4 with PID 3488 (D:\DEV\SpringBoot\MediaStreaming\MediaStreamingService\target\classes started by karna in D:\DEV\SpringBoot\MediaStreaming)
2025-01-19 16:51:28 - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-01-19 16:51:28 - No active profile set, falling back to 1 default profile: "default"
2025-01-19 16:51:29 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-19 16:51:29 - Finished Spring Data repository scanning in 75 ms. Found 5 JPA repository interfaces.
2025-01-19 16:51:30 - Tomcat initialized with port 8050 (http)
2025-01-19 16:51:30 - Initializing ProtocolHandler ["http-nio-8050"]
2025-01-19 16:51:31 - Starting service [Tomcat]
2025-01-19 16:51:31 - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-01-19 16:51:31 - Initializing Spring embedded WebApplicationContext
2025-01-19 16:51:31 - Root WebApplicationContext: initialization completed in 2935 ms
2025-01-19 16:51:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-19 16:51:31 - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-01-19 16:51:31 - HHH000026: Second-level cache disabled
2025-01-19 16:51:32 - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-19 16:51:32 - HikariPool-1 - Starting...
2025-01-19 16:51:32 - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@61993d18
2025-01-19 16:51:32 - HikariPool-1 - Start completed.
2025-01-19 16:51:33 - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-19 16:51:34 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-19 16:51:34 - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-19 16:51:35 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-19 16:51:35 - 

Using generated security password: bbe21318-d336-4cfd-b146-aeb183b41480

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-01-19 16:51:35 - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-19 16:51:35 - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-19 16:51:36 - Starting ProtocolHandler ["http-nio-8050"]
2025-01-19 16:51:36 - Tomcat started on port 8050 (http) with context path '/'
2025-01-19 16:51:36 - Attempting to connect to: [localhost:5672]
2025-01-19 16:51:36 - Created new connection: rabbitConnectionFactory#225fb75e:0/SimpleConnection@1d07fb2 [delegate=amqp://admin@127.0.0.1:5672/, localPort=58003]
2025-01-19 16:51:36 - Started MediaStreamingApplication in 8.826 seconds (process running for 9.908)
2025-01-19 16:51:55 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-19 16:51:55 - Initializing Servlet 'dispatcherServlet'
2025-01-19 16:51:55 - Completed initialization in 1 ms
2025-01-19 16:51:56 - Starting file upload for user: 123abc456
2025-01-19 16:51:56 - File saved successfully at: D:\DEV\SpringBoot\MediaStreaming\STORAGE\media\123abc456\videos\original_videos\2minVideo.mp4
2025-01-19 16:56:50 - Starting MediaStreamingApplication using Java 21.0.4 with PID 19032 (D:\DEV\SpringBoot\MediaStreaming\MediaStreamingService\target\classes started by karna in D:\DEV\SpringBoot\MediaStreaming)
2025-01-19 16:56:50 - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-01-19 16:56:50 - No active profile set, falling back to 1 default profile: "default"
2025-01-19 16:56:51 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-19 16:56:51 - Finished Spring Data repository scanning in 98 ms. Found 5 JPA repository interfaces.
2025-01-19 16:56:52 - Tomcat initialized with port 8050 (http)
2025-01-19 16:56:52 - Initializing ProtocolHandler ["http-nio-8050"]
2025-01-19 16:56:52 - Starting service [Tomcat]
2025-01-19 16:56:52 - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-01-19 16:56:52 - Initializing Spring embedded WebApplicationContext
2025-01-19 16:56:52 - Root WebApplicationContext: initialization completed in 2675 ms
2025-01-19 16:56:53 - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-19 16:56:53 - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-01-19 16:56:53 - HHH000026: Second-level cache disabled
2025-01-19 16:56:53 - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-19 16:56:53 - HikariPool-1 - Starting...
2025-01-19 16:56:54 - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@61993d18
2025-01-19 16:56:54 - HikariPool-1 - Start completed.
2025-01-19 16:56:55 - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-19 16:56:55 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-19 16:56:56 - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-19 16:56:56 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-19 16:56:56 - 

Using generated security password: 73a56b4d-1a2d-47af-888a-661f9136763f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-01-19 16:56:57 - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-19 16:56:57 - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-19 16:56:57 - Starting ProtocolHandler ["http-nio-8050"]
2025-01-19 16:56:57 - Tomcat started on port 8050 (http) with context path '/'
2025-01-19 16:56:57 - Attempting to connect to: [localhost:5672]
2025-01-19 16:56:58 - Created new connection: rabbitConnectionFactory#3006aef5:0/SimpleConnection@5f0bcadb [delegate=amqp://admin@127.0.0.1:5672/, localPort=58383]
2025-01-19 16:56:58 - Started MediaStreamingApplication in 8.703 seconds (process running for 9.458)
2025-01-19 16:58:13 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-19 16:58:13 - Initializing Servlet 'dispatcherServlet'
2025-01-19 16:58:13 - Completed initialization in 1 ms
2025-01-19 16:58:13 - Starting file upload for user: 123abc456
2025-01-19 16:58:13 - File saved successfully at: D:\DEV\SpringBoot\MediaStreaming\STORAGE\media\123abc456\videos\original_videos\2minVideo.mp4
2025-01-19 16:58:14 - Video processing task queued for file: D:\DEV\SpringBoot\MediaStreaming\STORAGE\media\123abc456\videos\original_videos\03ac81ce-0ad3-4e92-ad4b-fa9d97653607\2minVideo.mp4
2025-01-19 16:58:14 - Received video processing request for media ID: 12
2025-01-19 16:58:14 - Processing video for user: 123abc456, videoId: 03ac81ce-0ad3-4e92-ad4b-fa9d97653607
2025-01-19 16:58:16 - Error processing video for media ID: 12
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "streams" (class com.media.MediaStreaming.DTO.VideoMetadata), not marked as ignorable (7 known properties: "audioCodec", "videoBitrate", "duration", "width", "height", "videoCodec", "audioBitrate"])
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 18] (through reference chain: com.media.MediaStreaming.DTO.VideoMetadata["streams"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1153)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2241)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1793)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1771)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:316)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4905)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3848)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3816)
	at com.media.MediaStreaming.Services.VideoProcessingService.getVideoMetadata(VideoProcessingService.java:120)
	at com.media.MediaStreaming.Services.VideoProcessingService.processVideo(VideoProcessingService.java:38)
	at com.media.MediaStreaming.Services.VideoProcessingConsumer.processVideo(VideoProcessingConsumer.java:51)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-19 17:02:15 - Starting MediaStreamingApplication using Java 21.0.4 with PID 18192 (D:\DEV\SpringBoot\MediaStreaming\MediaStreamingService\target\classes started by karna in D:\DEV\SpringBoot\MediaStreaming)
2025-01-19 17:02:15 - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-01-19 17:02:15 - No active profile set, falling back to 1 default profile: "default"
2025-01-19 17:02:16 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-19 17:02:16 - Finished Spring Data repository scanning in 85 ms. Found 5 JPA repository interfaces.
2025-01-19 17:02:18 - Tomcat initialized with port 8050 (http)
2025-01-19 17:02:18 - Initializing ProtocolHandler ["http-nio-8050"]
2025-01-19 17:02:18 - Starting service [Tomcat]
2025-01-19 17:02:18 - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-01-19 17:02:18 - Initializing Spring embedded WebApplicationContext
2025-01-19 17:02:18 - Root WebApplicationContext: initialization completed in 2635 ms
2025-01-19 17:02:18 - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-19 17:02:18 - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-01-19 17:02:18 - HHH000026: Second-level cache disabled
2025-01-19 17:02:19 - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-19 17:02:19 - HikariPool-1 - Starting...
2025-01-19 17:02:19 - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@57f2e67
2025-01-19 17:02:19 - HikariPool-1 - Start completed.
2025-01-19 17:02:20 - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-19 17:02:21 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-19 17:02:21 - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-19 17:02:22 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-19 17:02:22 - 

Using generated security password: cb740255-4702-4fff-8c81-d161ec85c6f4

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-01-19 17:02:22 - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-19 17:02:23 - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-19 17:02:23 - Starting ProtocolHandler ["http-nio-8050"]
2025-01-19 17:02:23 - Tomcat started on port 8050 (http) with context path '/'
2025-01-19 17:02:23 - Attempting to connect to: [localhost:5672]
2025-01-19 17:02:23 - Created new connection: rabbitConnectionFactory#79080255:0/SimpleConnection@6a8a54f5 [delegate=amqp://admin@127.0.0.1:5672/, localPort=58794]
2025-01-19 17:02:24 - Started MediaStreamingApplication in 9.143 seconds (process running for 10.004)
2025-01-19 17:02:31 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-19 17:02:31 - Initializing Servlet 'dispatcherServlet'
2025-01-19 17:02:31 - Completed initialization in 1 ms
2025-01-19 17:02:31 - Starting file upload for user: 123abc456
2025-01-19 17:02:31 - File saved successfully at: D:\DEV\SpringBoot\MediaStreaming\STORAGE\media\123abc456\videos\original_videos\2minVideo.mp4
2025-01-19 17:02:31 - Video processing task queued for file: D:\DEV\SpringBoot\MediaStreaming\STORAGE\media\123abc456\videos\original_videos\8e181e79-c0ea-4e80-bd85-e6d886b1e462\2minVideo.mp4
2025-01-19 17:02:31 - Received video processing request for media ID: 13
2025-01-19 17:02:31 - Processing video for user: 123abc456, videoId: 8e181e79-c0ea-4e80-bd85-e6d886b1e462
2025-01-19 17:10:38 - Starting MediaStreamingApplication using Java 21.0.4 with PID 14660 (D:\DEV\SpringBoot\MediaStreaming\MediaStreamingService\target\classes started by karna in D:\DEV\SpringBoot\MediaStreaming)
2025-01-19 17:10:38 - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-01-19 17:10:38 - No active profile set, falling back to 1 default profile: "default"
2025-01-19 17:10:40 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-19 17:10:40 - Finished Spring Data repository scanning in 122 ms. Found 5 JPA repository interfaces.
2025-01-19 17:10:41 - Tomcat initialized with port 8050 (http)
2025-01-19 17:10:41 - Initializing ProtocolHandler ["http-nio-8050"]
2025-01-19 17:10:41 - Starting service [Tomcat]
2025-01-19 17:10:41 - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-01-19 17:10:41 - Initializing Spring embedded WebApplicationContext
2025-01-19 17:10:41 - Root WebApplicationContext: initialization completed in 2878 ms
2025-01-19 17:10:42 - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-19 17:10:42 - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-01-19 17:10:42 - HHH000026: Second-level cache disabled
2025-01-19 17:10:42 - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-19 17:10:42 - HikariPool-1 - Starting...
2025-01-19 17:10:43 - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@710afd47
2025-01-19 17:10:43 - HikariPool-1 - Start completed.
2025-01-19 17:10:45 - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-19 17:10:45 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-19 17:10:46 - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-19 17:10:46 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-19 17:10:46 - 

Using generated security password: b15b25c2-cf43-4106-83d9-4bd207d4a246

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-01-19 17:10:46 - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-19 17:10:47 - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-19 17:10:47 - Starting ProtocolHandler ["http-nio-8050"]
2025-01-19 17:10:47 - Tomcat started on port 8050 (http) with context path '/'
2025-01-19 17:10:47 - Attempting to connect to: [localhost:5672]
2025-01-19 17:10:47 - Created new connection: rabbitConnectionFactory#5fe4848:0/SimpleConnection@5a2e4e77 [delegate=amqp://admin@127.0.0.1:5672/, localPort=58939]
2025-01-19 17:10:47 - Started MediaStreamingApplication in 9.689 seconds (process running for 10.378)
2025-01-19 17:10:48 - Received video processing request for media ID: 13
2025-01-19 17:10:48 - Starting video processing for user: 123abc456, videoId: 8e181e79-c0ea-4e80-bd85-e6d886b1e462
2025-01-19 17:10:48 - Checking FFmpeg installation...
2025-01-19 17:10:48 - Error processing video for media ID: 13
java.lang.RuntimeException: Input file does not exist or is not readable: D:\DEV\SpringBoot\MediaStreaming\STORAGE\media\123abc456\videos\original_videos\8e181e79-c0ea-4e80-bd85-e6d886b1e462\2minVideo.mp4
	at com.media.MediaStreaming.Services.VideoProcessingService.processVideo(VideoProcessingService.java:49)
	at com.media.MediaStreaming.Services.VideoProcessingConsumer.processVideo(VideoProcessingConsumer.java:51)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-19 17:11:04 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-19 17:11:04 - Initializing Servlet 'dispatcherServlet'
2025-01-19 17:11:04 - Completed initialization in 0 ms
2025-01-19 17:11:04 - Starting file upload for user: 123abc456
2025-01-19 17:11:04 - File saved successfully at: D:\DEV\SpringBoot\MediaStreaming\STORAGE\media\123abc456\videos\original_videos\2minVideo.mp4
2025-01-19 17:11:05 - Video processing task queued for file: D:\DEV\SpringBoot\MediaStreaming\STORAGE\media\123abc456\videos\original_videos\6ca4b1a3-7b21-40cd-8496-8b3b2dc47112\2minVideo.mp4
2025-01-19 17:11:05 - Received video processing request for media ID: 14
2025-01-19 17:11:05 - Starting video processing for user: 123abc456, videoId: 6ca4b1a3-7b21-40cd-8496-8b3b2dc47112
2025-01-19 17:11:05 - Checking FFmpeg installation...
2025-01-19 17:11:05 - Ensuring output directory exists: D:\DEV\SpringBoot\MediaStreaming\STORAGE\media\123abc456\videos\segmented\6ca4b1a3-7b21-40cd-8496-8b3b2dc47112
2025-01-19 17:11:05 - Extracting video metadata...
2025-01-19 17:11:05 - Executing FFmpeg command...
2025-01-19 17:11:05 - FFmpeg: ffmpeg version 7.1-essentials_build-www.gyan.dev Copyright (c) 2000-2024 the FFmpeg developers
2025-01-19 17:11:05 - FFmpeg:   built with gcc 14.2.0 (Rev1, Built by MSYS2 project)
2025-01-19 17:11:05 - FFmpeg:   configuration: --enable-gpl --enable-version3 --enable-static --disable-w32threads --disable-autodetect --enable-fontconfig --enable-iconv --enable-gnutls --enable-libxml2 --enable-gmp --enable-bzlib --enable-lzma --enable-zlib --enable-libsrt --enable-libssh --enable-libzmq --enable-avisynth --enable-sdl2 --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxvid --enable-libaom --enable-libopenjpeg --enable-libvpx --enable-mediafoundation --enable-libass --enable-libfreetype --enable-libfribidi --enable-libharfbuzz --enable-libvidstab --enable-libvmaf --enable-libzimg --enable-amf --enable-cuda-llvm --enable-cuvid --enable-dxva2 --enable-d3d11va --enable-d3d12va --enable-ffnvcodec --enable-libvpl --enable-nvdec --enable-nvenc --enable-vaapi --enable-libgme --enable-libopenmpt --enable-libopencore-amrwb --enable-libmp3lame --enable-libtheora --enable-libvo-amrwbenc --enable-libgsm --enable-libopencore-amrnb --enable-libopus --enable-libspeex --enable-libvorbis --enable-librubberband
2025-01-19 17:11:05 - FFmpeg:   libavutil      59. 39.100 / 59. 39.100
2025-01-19 17:11:05 - FFmpeg:   libavcodec     61. 19.100 / 61. 19.100
2025-01-19 17:11:05 - FFmpeg:   libavformat    61.  7.100 / 61.  7.100
2025-01-19 17:11:05 - FFmpeg:   libavdevice    61.  3.100 / 61.  3.100
2025-01-19 17:11:05 - FFmpeg:   libavfilter    10.  4.100 / 10.  4.100
2025-01-19 17:11:05 - FFmpeg:   libswscale      8.  3.100 /  8.  3.100
2025-01-19 17:11:05 - FFmpeg:   libswresample   5.  3.100 /  5.  3.100
2025-01-19 17:11:05 - FFmpeg:   libpostproc    58.  3.100 / 58.  3.100
2025-01-19 17:11:05 - FFmpeg: Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'D:\DEV\SpringBoot\MediaStreaming\STORAGE\media\123abc456\videos\original_videos\6ca4b1a3-7b21-40cd-8496-8b3b2dc47112\2minVideo.mp4':
2025-01-19 17:11:05 - FFmpeg:   Metadata:
2025-01-19 17:11:05 - FFmpeg:     major_brand     : mp42
2025-01-19 17:11:05 - FFmpeg:     minor_version   : 0
2025-01-19 17:11:05 - FFmpeg:     compatible_brands: isommp42
2025-01-19 17:11:05 - FFmpeg:     encoder         : Google
2025-01-19 17:11:05 - FFmpeg:   Duration: 00:02:15.14, start: 0.000000, bitrate: 252 kb/s
2025-01-19 17:11:05 - FFmpeg:   Stream #0:0[0x1](und): Video: h264 (Main) (avc1 / 0x31637661), yuv420p(tv, bt709, progressive), 640x360 [SAR 1:1 DAR 16:9], 153 kb/s, 29.97 fps, 29.97 tbr, 30k tbn (default)
2025-01-19 17:11:05 - FFmpeg:       Metadata:
2025-01-19 17:11:05 - FFmpeg:         handler_name    : ISO Media file produced by Google Inc.
2025-01-19 17:11:05 - FFmpeg:         vendor_id       : [0][0][0][0]
2025-01-19 17:11:05 - FFmpeg:   Stream #0:1[0x2](und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 96 kb/s (default)
2025-01-19 17:11:05 - FFmpeg:       Metadata:
2025-01-19 17:11:05 - FFmpeg:         handler_name    : ISO Media file produced by Google Inc.
2025-01-19 17:11:05 - FFmpeg:         vendor_id       : [0][0][0][0]
2025-01-19 17:11:05 - FFmpeg: [out#0/hls @ 000002037028e7c0] Codec AVOption b:v:1 (set bitrate (in bits/s)) has not been used for any stream. The most likely reason is either wrong type (e.g. a video option with no video streams) or that it is a private option of some decoder which was not actually used for any stream.
2025-01-19 17:11:05 - FFmpeg: [out#0/hls @ 000002037028e7c0] Codec AVOption b:v:2 (set bitrate (in bits/s)) has not been used for any stream. The most likely reason is either wrong type (e.g. a video option with no video streams) or that it is a private option of some decoder which was not actually used for any stream.
2025-01-19 17:11:05 - FFmpeg: Stream mapping:
2025-01-19 17:11:05 - FFmpeg:   Stream #0:0 -> #0:0 (h264 (native) -> h264 (libx264))
2025-01-19 17:11:05 - FFmpeg:   Stream #0:1 -> #0:1 (aac (native) -> aac (native))
2025-01-19 17:11:05 - FFmpeg: Press [q] to stop, [?] for help
2025-01-19 17:11:05 - FFmpeg: [libx264 @ 00000203701f11c0] using SAR=1/1
2025-01-19 17:11:05 - FFmpeg: [libx264 @ 00000203701f11c0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
2025-01-19 17:11:05 - FFmpeg: [libx264 @ 00000203701f11c0] profile High, level 4.0, 4:2:0, 8-bit
2025-01-19 17:11:05 - FFmpeg: [libx264 @ 00000203701f11c0] 264 - core 164 r3192 c24e06c - H.264/MPEG-4 AVC codec - Copyleft 2003-2024 - http://www.videolan.org/x264.html - options: cabac=1 ref=2 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=6 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=12 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=1 keyint=48 keyint_min=25 scenecut=0 intra_refresh=0 rc_lookahead=30 rc=abr mbtree=1 bitrate=5000 ratetol=1.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
2025-01-19 17:11:05 - FFmpeg: [hls @ 000002037028e8c0] Unable to map stream at v:1
2025-01-19 17:11:05 - FFmpeg: [hls @ 000002037028e8c0] Variant stream info update failed with status ffffffea
2025-01-19 17:11:05 - FFmpeg: [out#0/hls @ 000002037028e7c0] Could not write header (incorrect codec parameters ?): Invalid argument
2025-01-19 17:11:05 - FFmpeg: [vf#0:0 @ 00000203701ef080] Error sending frames to consumers: Invalid argument
2025-01-19 17:11:05 - FFmpeg: [vf#0:0 @ 00000203701ef080] Task finished with error code: -22 (Invalid argument)
2025-01-19 17:11:05 - FFmpeg: [vf#0:0 @ 00000203701ef080] Terminating thread with return code -22 (Invalid argument)
2025-01-19 17:11:06 - FFmpeg: [out#0/hls @ 000002037028e7c0] Nothing was written into output file, because at least one of its streams received no packets.
2025-01-19 17:11:06 - FFmpeg: frame=    0 fps=0.0 q=0.0 Lsize=       0KiB time=N/A bitrate=N/A speed=N/A    
2025-01-19 17:11:06 - FFmpeg: [libx264 @ 00000203701f11c0] final ratefactor: 19.54
2025-01-19 17:11:06 - FFmpeg: [aac @ 0000020370685cc0] Qavg: 65536.000
2025-01-19 17:11:06 - FFmpeg: Conversion failed!
2025-01-19 17:11:06 - Error processing video for media ID: 14
java.lang.RuntimeException: FFmpeg process failed with exit code -22
	at com.media.MediaStreaming.Services.VideoProcessingService.executeFFmpegCommand(VideoProcessingService.java:169)
	at com.media.MediaStreaming.Services.VideoProcessingService.processVideo(VideoProcessingService.java:62)
	at com.media.MediaStreaming.Services.VideoProcessingConsumer.processVideo(VideoProcessingConsumer.java:51)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:1583)
